(this.webpackJsonpbook=this.webpackJsonpbook||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(17),a(2)),s=a.n(o),i=a(3),m=a(1),u=(a(19),a(4)),d=function(e){var t=Object(n.useContext)(J),a=Object(m.a)(t,1)[0],c=Object(n.useState)(""),l=Object(m.a)(c,2),o=l[0],u=l[1];function d(){return(d=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.accesstoken){e.next=15;break}return e.prev=1,e.next=4,fetch("http://18.222.115.53:4000/userName",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)}});case 4:return e.next=6,e.sent.json();case 6:t=e.sent,u(t.name),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:e.next=16;break;case 15:return e.abrupt("return",u("GUEST"));case 16:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[a.accesstoken]),r.a.createElement("span",null,r.a.createElement("i",{style:{fontSize:"1.5rem",color:"black",fontWeight:"bold",paddingLeft:"0.5rem"}},o))},p=a(6),b=function(e){var t=e.logOutCallback,a=Object(n.useContext)(J),c=Object(m.a)(a,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav",style:{fontSize:"1.7rem"}},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.a,{className:"nav-link",to:"/"},"Home",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(u.a,{className:"nav-link",to:"/protected"},"MyBooks",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},c.accesstoken?null:r.a.createElement(u.a,{className:"nav-link",to:"/login"},"Login",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},c.accesstoken?null:r.a.createElement(u.a,{className:"nav-link",to:"/register"},"Register",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},c.accesstoken?r.a.createElement("p",{className:"nav-link",onClick:t,style:{paddingTop:"1.3rem"},id:"logoutButton"},"LogOut"):null),r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"https://github.com/Edd-Venv/Book-App",target:"_blank",rel:"noopener noreferrer"},"GitHub",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},c.accesstoken?r.a.createElement(u.a,{className:"nav-link",to:"/settings"},r.a.createElement(p.a,null)):null))),r.a.createElement("div",null,r.a.createElement(p.b,null),r.a.createElement(d,null))))},E=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],p=o[1],E=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://18.222.115.53:4000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({person_name:a,password:d})});case 3:return e.next=5,e.sent.json();case 5:(n=e.sent).error?console.log(n.error):(console.log(n.message),Object(u.c)("/login"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){"name"===e.currentTarget.name?c(e.currentTarget.value.toUpperCase()):p(e.currentTarget.value)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{displayLogin:"dontDisplayLoginForm"}),r.a.createElement("div",{className:"login-wrapper"},r.a.createElement("form",{className:"card mb-3",onSubmit:E,style:{width:"30%",margin:"0 auto",font:"2rem",marginTop:"10%"}},r.a.createElement("h3",{style:{textAlign:"center"}},"REGISTER ",r.a.createElement("hr",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"USER NAME"),r.a.createElement("input",{className:"form-control",value:a,onChange:h,type:"text",name:"name",placeholder:"User Name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"PASSWORD"),r.a.createElement("input",{className:"form-control",value:d,onChange:h,type:"password",name:"password",autoComplete:"current-password",placeholder:"Password",required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"REGISTER"))))},h=r.a.memo((function(e){var t=e.content,a=e.deleteBook;return r.a.createElement("div",{className:"books-container"},t[0].map((function(e){return r.a.createElement("div",{className:"card mb-3",style:{width:"40%"},key:e.book_key},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{style:{width:"30%",marginLeft:"3.2%"}},r.a.createElement("img",{alt:"loading",src:e.book_image,className:"img-thumbnail",style:{width:"100%"}})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title",style:{marginLeft:"2%"}},e.book_title),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},e.author),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},r.a.createElement("strong",null,"Author : "),e.book_author),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},r.a.createElement("strong",null,"Number of pages : "),e.book_pages),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},r.a.createElement("strong",null,"Price : "),e.book_price,e.book_currencycode),r.a.createElement("button",{className:"btn btn-danger",onClick:a.bind(void 0,[e.book_title,e.book_key])},"Delete")))," "))})))})),g=(a(26),function(e){var t=Object(n.useContext)(J),a=Object(m.a)(t,1)[0],c=Object(n.useState)([]),l=Object(m.a)(c,2),o=l[0],u=l[1];function d(){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://18.222.115.53:4000/protected",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)}});case 2:return e.next=4,e.sent.json();case 4:(t=e.sent).data&&u([t.data]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a.accesstoken){e.next=4;break}return e.next=4,fetch("http://18.222.115.53:4000/protected",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)},body:JSON.stringify({book_title:t[0],book_key:t[1]})});case 4:d(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){d()}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{displayLogin:"dontDisplayLoginForm",logOutCallback:e.logOutCallback}),r.a.createElement("br",null),a.accesstoken?a.accesstoken&&void 0===o[0]?r.a.createElement("div",{className:"spinner-grow text-dark",role:"status",style:{margin:"auto"}},r.a.createElement("span",{className:"sr-only"},"Loading...")):a.accesstoken&&0===o[0].length?r.a.createElement("h2",{style:{textAlign:"center",fontWeight:"bold"}},"You Don't Have Books Saved."):a.accesstoken&&o[0].length<=2?r.a.createElement(h,{deleteBook:E,content:o}):r.a.createElement("div",{className:"books-container"},o[0].map((function(e){return r.a.createElement("div",{className:"card mb-3",style:{width:"85%"},key:e.book_key},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{style:{width:"30%",marginLeft:"3.2%"}},r.a.createElement("img",{alt:"loading",src:e.book_image,className:"img-thumbnail",style:{width:"100%"}})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title",style:{marginLeft:"2%"}},e.book_title),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},e.author),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},r.a.createElement("strong",null,"Author : "),e.book_author),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},r.a.createElement("strong",null,"Number of pages : "),e.book_pages),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.5rem",width:"100%"}},r.a.createElement("strong",null,"Price : "),e.book_price,e.book_currencycode),r.a.createElement("button",{className:"btn btn-danger",onClick:E.bind(void 0,[e.book_title,e.book_key])},"Delete")))," "))}))):r.a.createElement("h2",{style:{textAlign:"center",fontWeight:"bold"}},"You need to login"))}),f=a(11),y=r.a.memo((function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],l=a[1];return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onAddSearch(c),l("")},style:{marginLeft:"38%"}},r.a.createElement("span",{className:"form-inline"},r.a.createElement("input",{className:"form-control",type:"text/number",onChange:function(e){l(e.target.value)},value:c,placeholder:"Book Title",style:{width:"35%",fontSize:"1.5rem"},id:"input",required:!0}),r.a.createElement("button",{className:"btn btn-dark",type:"submit"},r.a.createElement("i",{className:"fas fa-search"}))))})),v=function(e,t){switch(t.type){case"SEARCH":return{isLoaded:!0,summary:t.summary,data:t.data,display:t.display};case"DISPLAY":return{isLoaded:!1,summary:e.summary,data:[],display:t.display};default:throw new Error}},k=function(e,t){switch(t.type){case"GET":return{isLoaded:t.isLoaded,data:t.data};default:throw new Error("History Error")}},N=function(e,t){switch(t.type){case"GET":return{isLoaded:t.isLoaded,data:t.data,ContainerVisibilty:t.ContainerVisibilty};default:throw new Error("Best Seller Error")}},O=function(e,t){switch(t.type){case"GET":return{isLoaded:t.isLoaded,data:t.data};default:throw new Error}},w=r.a.memo((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{color:"white",marginLeft:"30%",width:"5%",height:"auto",font:"1.3rem"}},"Sorry, Book Not In DataBase"))})),j=function(e){var t=e.summary,a=e.data,c=Object(n.useContext)(J),l=Object(m.a)(c,1)[0];function o(){return(o=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.accesstoken){e.next=4;break}return e.abrupt("return",console.log("You need to login to Save Book."));case 4:return e.next=6,fetch("http://18.222.115.53:4000/search/saveBook",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(l.accesstoken)},body:JSON.stringify({book_image:t[0],book_key:t[1],book_title:t[2],book_author:t[3],book_price:t[4],book_currencyCode:t[5],book_pages:t[6]})});case 6:return e.next=8,e.sent.json();case 8:(a=e.sent).error?console.log(a.error):console.log(a.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{style:{width:"60%",marginLeft:"30%",height:"auto"}},r.a.createElement("div",{className:"card mb-3",style:{paddingLeft:"1.5%",maxWidth:"100%",height:"auto"}},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{style:{width:"30%",margin:"0 0.4rem"}},r.a.createElement("img",{src:a.coverUrl,className:"img-thumbnail",alt:"...loading",style:{width:"100%"}})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title",style:{marginLeft:"2%"}},a.name),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.3rem",width:"100%"}},r.a.createElement("strong",null,"Description : "),t,"."),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.3rem",width:"100%"}},r.a.createElement("strong",null,"Release Date : "),a.onsale),r.a.createElement("p",{className:"card-text",style:{fontSize:"1.3rem",width:"100%"}},r.a.createElement("strong",null,"ISBN : "),a.isbnDisplay),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return o.apply(this,arguments)}.bind(void 0,[a.coverUrl,a.isbn,a.name,a.authors[0].authorDisplay,a.prices[0].amount,a.prices[0].currencyCode,a.pages])},"save"))))))},x=function(){var e={isLoaded:!1,summary:"Dummy DATA",data:{id:"work-247816-PRH.US",key:"247816",name:"Evicted",isbn:9780553447453,price:18,pages:448,isbnDisplay:"978-0-553-44745-3",flapCopy:"Dummy Data",authors:[{authorDisplay:"Dummy Data"}],prices:[{amount:"0",currencyCode:"US"}],coverUrl:"www"},display:"hide"},t=Object(n.useReducer)(v,e),a=Object(m.a)(t,2),c=a[0],l=a[1],o=c.display,u=c.isLoaded,d=c.summary,p=c.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{onAddSearch:function(e){!function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://18.222.115.53:4000/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search_text:e})}).then((function(e){return e.json()})).then((function(e){l({type:"SEARCH",isLoaded:!0,data:e.data.data.results[0],summary:e.data.data.results[0].flapCopy.replace(/<p>/g," ").replace(/<b>/g," ").replace(/p>/g," ").replace(/</g," ").replace(/i>/g," ").replace(/b>/g," ").replace(/br> br>/g," ").replace(/--/g," ").replace(/&#160;&#160;/g," ").replace(/&#8212;/g," ").replace(/&rsquo;/g," ").replace(/&ldquo;/g," ").replace(/&rdquo;/g," ").replace(/&mdash;/g," ").replace(/&#160;/g," ").replace(/&bull;/g," ").replace(/,&#160; /g," ").replace(/;&#160;/g," ").replace(/&bull;&#160;/g," ").substring(0,250),display:"show"})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{className:o},r.a.createElement("span",{onClick:function(){l({type:"DISPLAY",display:"hide"}),l(Object(f.a)({type:"SEARCH"},e))},className:"close",style:{color:"red",fontWeight:"bold",fontSize:"3em",marginRight:"29%"}},"\xd7"),!0===u&&void 0===p?r.a.createElement(w,null):r.a.createElement(j,{isLoaded:u,summary:d,data:p}))))},S={isLoaded:!1,data:[],ContainerVisibilty:""},C=Object(n.createContext)(S),L=function(e){var t=e.children,a=Object(n.useReducer)(N,S),c=Object(m.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){fetch("http://18.222.115.53:4000/bestSellers").then((function(e){return e.json()})).then((function(e){o({type:"GET",isLoaded:!0,data:e.data.data.titles.slice(6,9),ContainerVisibilty:""})}))}),[]),r.a.createElement(C.Provider,{value:{isLoaded:l.isLoaded,data:l.data,ContainerVisibilty:l.ContainerVisibilty}},t)},T=(a(27),function(){var e=Object(n.useContext)(C),t=e.isLoaded,a=e.data;return r.a.createElement(r.a.Fragment,null,!1===t?r.a.createElement("div",{className:"spinner-grow text-dark",role:"status",style:{margin:"0 auto"}},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{className:"flex-container-best-sellers"},a.map((function(e){return r.a.createElement("div",{className:"container",key:e.isbn},r.a.createElement("img",{alt:"loading",src:e._links[1].href,className:"img-thumbnail",style:{width:"100%"},id:"box"}),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"text"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),e.author,r.a.createElement("hr",{style:{margin:"0 auto"}}),"Pages: ",e.pages,r.a.createElement("br",null),"Price: ",e.price[1].amount," ",e.price[1].currencyCode,r.a.createElement("br",null),e.consumerFormat,r.a.createElement("br",null),e.version))))}))))}),_={isLoaded:!1,data:[]},D=Object(n.createContext)(_),A=function(e){var t=e.children,a=Object(n.useReducer)(k,_),c=Object(m.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){fetch("http://18.222.115.53:4000/history").then((function(e){return e.json()})).then((function(e){o({type:"GET",isLoaded:!0,data:e.data.data.titles})}))}),[]),r.a.createElement(D.Provider,{value:{isLoaded:l.isLoaded,data:l.data.slice(0,4)}},t)},P=(a(28),r.a.memo((function(){var e=Object(n.useContext)(D),t=e.isLoaded,a=e.data,c=Object(n.useContext)(J),l=Object(m.a)(c,1)[0];function o(e){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.accesstoken){e.next=4;break}return e.abrupt("return",console.log("You need to login to Save Book."));case 4:return e.next=6,fetch("http://18.222.115.53:4000/",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(l.accesstoken)},body:JSON.stringify({book_image:t[0],book_key:t[1],book_title:t[2],book_author:t[3],book_price:t[4],book_currencyCode:t[5],book_pages:t[6]})});case 6:return e.next=8,e.sent.json();case 8:(a=e.sent).error?console.log(a.error):console.log(a.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,!1===t?r.a.createElement("div",{className:"spinner-grow text-dark",role:"status",style:{margin:"0 auto"}},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{className:"flex-container-header"},a.map((function(e){return r.a.createElement("div",{key:e.isbn,style:{width:"20%"}},r.a.createElement("img",{alt:"loading",src:e._links[1].href,className:"img-thumbnail",style:{width:"100%"},id:"box"}),r.a.createElement("button",{className:"btn btn-primary",onClick:o.bind(void 0,[e._links[1].href,e.isbn,e.title,e.author,e.price[0].amount,e.price[0].currencyCode,e.pages])},"save"))}))))}))),R={isLoaded:!1,data:[]},z=Object(n.createContext)(R),B=function(e){var t=e.children,a=Object(n.useReducer)(O,R),c=Object(m.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){fetch("http://18.222.115.53:4000/sundayReads").then((function(e){return e.json()})).then((function(e){o({type:"GET",isLoaded:!0,data:e.data.data.titles.slice(0,5)})}))}),[]),r.a.createElement(z.Provider,{value:{isLoaded:l.isLoaded,data:l.data}},t)},F=(a(29),function(){var e=Object(n.useContext)(z),t=e.isLoaded,a=e.data;return r.a.createElement(r.a.Fragment,null,!1===t?r.a.createElement("div",{className:"spinner-grow text-dark",role:"status",style:{margin:"0 auto"}},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{className:"flex-container-top-six"},a.map((function(e){return r.a.createElement("div",{key:e.isbn,style:{width:"30%",margin:"0 0.2em"}},r.a.createElement("img",{alt:"loading",src:e._links[1].href,className:"img-thumbnail",style:{width:"100%"},id:"box"}))}))))});var U=r.a.memo((function(){return r.a.createElement("div",{style:{maxWidth:"1200px",minWidth:"50%",margin:"0 auto"}},r.a.createElement(x,null),r.a.createElement("br",null),r.a.createElement("h2",{style:{textAlign:"center",fontSize:"2.1rem",fontWeight:"bolder",color:"whitesmoke"}},"BEST SELLER TITLES",r.a.createElement("hr",{style:{width:"22.5%",margin:"0 auto"}})),r.a.createElement("br",null),r.a.createElement(L,null,r.a.createElement(T,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{style:{textAlign:"center",margin:"0 auto",fontSize:"2.1rem",fontWeight:"bolder",color:"whitesmoke"}},"HISTORY TITLES",r.a.createElement("hr",{style:{width:"22.5%",margin:"0 auto"}})),r.a.createElement("br",null),r.a.createElement(A,null,r.a.createElement(P,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{style:{textAlign:"center",fontSize:"2.1rem",fontWeight:"bolder",color:"whitesmoke"}},"SUNDAY READS",r.a.createElement("hr",{style:{width:"22.5%",margin:"0 auto"}})),r.a.createElement("br",null),r.a.createElement(B,null,r.a.createElement(F,null)))})),W=r.a.memo((function(e){return e.loading?r.a.createElement("div",null,"Loading ..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{path:"/",logOutCallback:e.logOutCallback}),r.a.createElement(U,null))}));var G=function(e){var t=Object(n.useContext)(J),a=Object(m.a)(t,1)[0],c=Object(n.useState)(""),l=Object(m.a)(c,2),o=l[0],u=l[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),b=p[0],E=p[1],h=function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("http://18.222.115.53:4000/settings/changeName",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)},body:JSON.stringify({old_name:o,new_name:b})});case 3:return t.next=5,t.sent.json();case 5:(r=t.sent).error?console.log(r.error):console.log(r.message),e.logOutCallback();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(e){"old Name"===e.target.name?u(e.target.value.toUpperCase()):E(e.target.value.toUpperCase())};return r.a.createElement("form",{onSubmit:h,style:{width:"30%",margin:"0 auto",font:"2rem"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("h3",{style:{textAlign:"center"}},"CHANGE USER NAME"),r.a.createElement("label",{htmlFor:"old Name"},"OLD USERNAME"),r.a.createElement("input",{className:"form-control",value:o,type:"text/number",name:"old Name",placeholder:"Old Name",onChange:g,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"new Name"},"NEW USERNAME"),r.a.createElement("input",{className:"form-control",value:b,type:"text/number",name:"new Name",placeholder:"New Name",onChange:g,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"SUBMIT"))};var I=function(e){var t=Object(n.useContext)(J),a=Object(m.a)(t,1)[0],c=Object(n.useState)(""),l=Object(m.a)(c,2),o=l[0],u=l[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),b=p[0],E=p[1],h=function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("http://18.222.115.53:4000/settings/changePassword",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)},body:JSON.stringify({old_password:o,new_password:b})});case 3:return t.next=5,t.sent.json();case 5:(r=t.sent).error?console.log(r.error):console.log(r.message),e.logOutCallback();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(e){"old password"===e.target.name?u(e.target.value):E(e.target.value)};return r.a.createElement("form",{onSubmit:h,style:{width:"30%",margin:"0 auto",font:"2rem"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("h3",{style:{textAlign:"center"}},"CHANGE PASSWORD"),r.a.createElement("label",{htmlFor:"old password"},"OLD PASSWORD"),r.a.createElement("input",{className:"form-control",value:o,placeholder:"Old Password",type:"password",onChange:g,name:"old password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"new password"},"NEW PASSWORD"),r.a.createElement("input",{className:"form-control",name:"new password",value:b,placeholder:"New Password",type:"password",onChange:g,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"SUBMIT"))};var q=function(e){var t=Object(n.useContext)(J),a=Object(m.a)(t,1)[0],c=function(){var t=Object(i.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://18.222.115.53:4000/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(a.accesstoken)}});case 2:return t.next=4,t.sent.json();case 4:(n=t.sent).error?console.log(n.error):console.log(n.message),e.logOutCallback();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{logOutCallback:e.logOutCallback}),r.a.createElement(G,{logOutCallback:e.logOutCallback}),r.a.createElement(I,{logOutCallback:e.logOutCallback}),r.a.createElement("h3",null,"DELETE PROFILE"),r.a.createElement("button",{className:"btn btn-danger",onClick:c},"DELETE USER",r.a.createElement(p.c,null)))},H=r.a.memo((function(e){var t=Object(n.useContext)(J),a=Object(m.a)(t,2),c=(a[0],a[1]),l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],p=o[1],E=Object(n.useState)(""),h=Object(m.a)(E,2),g=h[0],f=h[1],y=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://18.222.115.53:4000/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({person_name:d,password:g})});case 3:return e.next=5,e.sent.json();case 5:(a=e.sent).accesstoken?(c({accesstoken:a.accesstoken}),Object(u.c)("/")):console.log(a.error);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){"name"===e.target.name?p(e.target.value.toUpperCase()):f(e.target.value)},k=e.displayLogin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:k},r.a.createElement("form",{onSubmit:y,className:"card mb-3",style:{width:"30%",margin:"0 auto",font:"2rem",marginTop:"10%"}},r.a.createElement("h3",{style:{textAlign:"center"}},"LOGIN",r.a.createElement("hr",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"USER NAME"),r.a.createElement("input",{className:"form-control",value:d,onChange:v.bind(void 0),type:"text",name:"name",placeholder:"User Name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"PASSWORD"),r.a.createElement("input",{className:"form-control",value:g,onChange:v,type:"password",name:"password",autoComplete:"current-password",placeholder:"Password",required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"LOGIN"))))})),J=r.a.createContext([]);var M=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(m.a)(l,2),d=o[0],p=o[1],b=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://18.222.115.53:4000/logout",{method:"POST",credentials:"include"});case 2:c({}),Object(u.c)("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://18.222.115.53:4000/refresh_token",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return e.next=4,e.sent.json();case 4:t=e.sent,c({accesstoken:t.accesstoken}),p(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),d?r.a.createElement("div",{className:"spinner-grow text-dark",role:"status",style:{margin:"auto"}},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.Provider,{value:[a,c]},r.a.createElement("div",{className:"app"},r.a.createElement(u.b,{id:"router"},r.a.createElement(H,{path:"login"}),r.a.createElement(E,{path:"register"}),r.a.createElement(g,{path:"protected",logOutCallback:b}),r.a.createElement(q,{path:"settings",logOutCallback:b}),r.a.createElement(W,{path:"/",loading:d,logOutCallback:b})))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.ffd07db7.chunk.js.map